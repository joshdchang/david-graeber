import{_ as B}from"./PageTop-51ad55ac.mjs";import{_ as O}from"./DynamicText-4b813bfb.mjs";import{_ as U,w as A,l as r,a as z,r as j,o as l,c as a,b as i,d as x,e,f as T,F as V,k as q,q as u,v as b,s as D,h as F,t as _}from"./entry-cdbec1dd.mjs";import"./TheImage-56bdf120.mjs";const K={async setup(C,{expose:o}){o();let d,t;const{resources:p,resource_blocks:f,faq_blocks:g}=([d,t]=A(()=>z().$api(["resources","resource_blocks","faq_blocks"])),d=await d,t(),d);let m=r(""),c=r(""),n=r(""),s=r(""),y=r(!1),v=r(!1),h=r(!1),w=r(!1);async function N(){if(m.value&&c.value&&n.value&&s.value&&m.value.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/)){v.value=!0;let S="https://script.google.com/macros/s/AKfycbwvK1-oqZhkLzr1wUp5r54OxmNHirVFcKrXOn_4mPK-kBsh5T5bBCxolTgOdPZkp26T/exec";await $fetch(`${S.value}?name=${c.value}&subject=${n.value}&replyto=${m.value}&message=${s.value}`)==="success"?w.value=!0:h.value=!0}else y.value=!0}z().$scrollTop();const k={resources:p,resource_blocks:f,faq_blocks:g,email:m,name:c,subject:n,message:s,invalid:y,submitted:v,failure:h,success:w,submit:N};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}},M={class:"mb-5 box-border relative w-full text-gray-700 bg-white border-0 border-gray-200 border-solid py-10 sm:py-16 md:py-22 lg:py-28"},P={key:0,class:"px-8 sm:px-12 mx-auto md:px-8 lg:px-0 md:text-center pb-10 sm:pb-14 md:pb-18 lg:pb-24"},H={class:"box-border flex flex-col items-center px-6 sm:px-8 mx-auto border-solid max-w-7xl xl:px-16 md:items-stretch md:justify-center"},E={class:"z-10 grid gap-5"},L={class:"text-gray-700 bg-gray-100 rounded sm:rounded-lg lg:rounded-xl"},Z={class:"box-border flex flex-col items-start h-full px-4 sm:px-8 md:px-16 lg:px-20 py-8 sm:py-14 md:py-18 lg:py-24 mx-4 text-center border-solid sm:flex-row sm:items-start sm:text-left"},G={class:"text-gray-700 border border-gray-200 rounded-full",style:{padding:"0.8rem","padding-bottom":"0.4rem"}},Q={class:"material-symbols-outlined"},X={class:"my-4 text-left text-gray-700 border-0 border-gray-200 sm:my-2 sm:ml-4"},I={class:"relative w-full py-10 sm:py-18 md:py-26 lg:py-32 bg-gray-800 mb-5"},J={class:"max-w-6xl px-8 sm:px-12 mx-auto"},R=e("h3",{class:"mt-1 mb-10 text-3xl font-bold text-left text-gray-100 sm:text-4xl md:text-5xl serif"},"Frequently Asked Questions",-1),W={class:"flex flex-col w-full py-6 mx-auto mt-4 sm:mt-10 border-t border-gray-700 md:grid md:grid-cols-[20rem_auto] sm:py-8"},Y={class:"mb-2 mr-10 text-lg font-medium text-gray-200 md:mb-0 sm:text-xl md:text-lg"},$={class:"text-base text-gray-400 sm:text-lg md:text-normal"},ee={class:"bg-white py-5 sm:py-16 md:py-24 lg:py-28"},te={class:"px-6 sm:px-10 mx-auto max-w-7xl md:px-16 mb-10"},se={class:"max-w-3xl mx-auto mb-10 md:mb-16"},oe={key:0,class:"grid max-w-3xl gap-4 mx-auto"},le=e("label",{for:"name",class:"inline-block mb-2 text-sm font-medium text-gray-500 sm:text-base"},"Name",-1),ae=e("label",{for:"email",class:"inline-block mb-2 text-sm font-medium text-gray-500 sm:text-base"},"Email",-1),ne=e("label",{for:"subject",class:"inline-block mb-2 text-sm font-medium text-gray-500 sm:text-base"},"Subject",-1),re=e("label",{for:"message",class:"inline-block mb-2 text-sm font-medium text-gray-500 sm:text-base"},"Message",-1),ie={class:"flex items-center justify-between"},me=e("p",{class:"text-blue-600"},"One or more fields are empty or invalid.",-1),de={key:1,class:"max-w-3xl mx-auto mt-5 text-xs text-gray-400"},ce={key:0,class:"text-green-600"},xe={key:1,class:"text-red-600"},ue={key:2,class:"text-blue-600"};function be(C,o,d,t,p,f){const g=j("Title"),m=j("Head"),c=B,n=O;return l(),a("div",null,[i(m,null,{default:x(()=>[i(g,null,{default:x(()=>[F(_(t.resources.title)+" - David C. Graeber",1)]),_:1})]),_:1}),i(c,{heading:t.resources.title,image:t.resources.banner},null,8,["heading","image"]),e("section",M,[t.resources.resources_title?(l(),a("div",P,[i(n,{content:t.resources.resources_title},null,8,["content"])])):T("",!0),e("div",H,[e("div",E,[(l(!0),a(V,null,q(t.resource_blocks,s=>(l(),a("div",L,[e("div",Z,[e("div",G,[e("span",Q,_(s.icon),1)]),e("div",X,[i(n,{content:s.content,theme:"theme-sans"},null,8,["content"])])])]))),256))])])]),e("section",I,[e("div",J,[R,(l(!0),a(V,null,q(t.faq_blocks,s=>(l(),a("div",W,[e("h3",Y,_(s.question),1),e("p",$,_(s.answer),1)]))),256))])]),e("div",ee,[e("div",te,[e("div",se,[i(n,{content:t.resources.contact_title},null,8,["content"])]),t.submitted?(l(),a("p",de,[i(n,null,{default:x(()=>[t.success?(l(),a("p",ce,"Success!")):t.failure?(l(),a("p",xe,"Oh no! Message failed.")):(l(),a("p",ue,"Submitting..."))]),_:1})])):(l(),a("section",oe,[e("div",null,[le,u(e("input",{name:"name","onUpdate:modelValue":o[0]||(o[0]=s=>t.name=s),class:"w-full px-3 py-2 text-gray-800 transition duration-100 border rounded-md outline-none bg-gray-50 focus:ring ring-blue-300"},null,512),[[b,t.name]])]),e("div",null,[ae,u(e("input",{name:"email","onUpdate:modelValue":o[1]||(o[1]=s=>t.email=s),class:"w-full px-3 py-2 text-gray-800 transition duration-100 border rounded-md outline-none bg-gray-50 focus:ring ring-blue-300"},null,512),[[b,t.email]])]),e("div",null,[ne,u(e("input",{name:"subject","onUpdate:modelValue":o[2]||(o[2]=s=>t.subject=s),class:"w-full px-3 py-2 text-gray-800 transition duration-100 border rounded-md outline-none bg-gray-50 focus:ring ring-blue-300"},null,512),[[b,t.subject]])]),e("div",null,[re,u(e("textarea",{name:"message","onUpdate:modelValue":o[3]||(o[3]=s=>t.message=s),class:"w-full h-64 px-3 py-2 text-gray-800 transition duration-100 border rounded-md outline-none bg-gray-50 focus:ring ring-blue-300"},null,512),[[b,t.message]])]),e("div",ie,[e("button",{onClick:o[4]||(o[4]=s=>t.submit()),class:"inline-block px-8 py-3 text-sm font-semibold text-center text-white transition duration-100 bg-blue-600 rounded-md outline-none hover:bg-blue-500 active:bg-blue-700 ring-blue-300 md:text-base"}," Send Message ")]),t.invalid?(l(),D(n,{key:0},{default:x(()=>[me]),_:1})):T("",!0)]))])])])}var ve=U(K,[["render",be]]);export{ve as default};
